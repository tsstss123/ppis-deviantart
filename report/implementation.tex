% toolboxes used
\subsection{Scraper}
[Sander, Bart B.]
% xml format
% network

\subsubsection{Network}

\subsubsection{Galleries}
% gallery/images
% Initial approach
% 1. Retrieve backend url from http://deviant.deviantart.com/gallery (using the SMGL Parser included with python)
% 2. Retrieve the xml file from the backend (Using python xml.sax parser)
% 3. Parse all items from the xml file. Follow the links to the full images and thumbsnail. Download them.
% 4. Increase the offset parameter and parse the next xml file to retrieve all images from the deviant. Keep doing this until no items are left
% 5. The following file structure is created (add example):
%      - For each deviant a seperate folder is created. In this folder another three folders are created for the full sized images and the big and small thumbnails.
%      - For each image of the deviant a xml file is written containing the filename, deviantart link and title.
% Problems
% - The backend link in gallery page doesn't seems to have all images (only the ones in the features pages).
% - Downloading of images might fail due problems on the server side
% Approach refined
% - Instead of retrieving the backend url from the gallery page follow this link directly:
%    http://backend.deviantart.com/rss.xml?q=gallery:$deviant$&offset=0
%   Don't safe the xml file for the failed images. Remove corrupted images. Try to download again at a later point.
In order to create our dataset we needed to download the images from Deviantart. 
The \textit{Gallery Scraper} is written in Python and retrieves all images for a given 
list of deviants. In our initial approach we retrieved 
the backend link from \textit{http://deviant.deviantart.com/gallery} using the 
SGML parser included in the sgmllib Python module. The backend link points 
to a xml file containing the first 60 images of the deviant. TO retrieve the other 
xml files we needed to change the offset in the url. 

We parsed the xml files using the xml.sax module included with Python. 
For each item in the xml file a link to the full sized image, a big thumbnail and 
a small thumbnail are provided. The big thumbnails are usually around 300 width and 
the small thumbnails around 150 height. For each deviant we created a seperate folder, which
contains three subfolders for the different sized images. 

For each image of the deviant a xml file is written containing the filename, category, deviantart link and title.
An example of such a xml file looks like this:

(Insert example here)

Although this initial approach seems to work we did encountered a few problems. First it
seems the backend link on the gallery page only contains the images listed under \textit{featured}, 
which does not necessarily contains all images of the deviant. After some more investigation it turns 
out we can retrieve the xml file containing all images directly from the url 
\textit{$http://backend.deviantart.com/rss.xml?q=gallery:\$deviant\$$}.

The second problem is that downloading an image might fail due problems at the server side of DeviantArt.
We solved this by removing corrupt downloads and not generating a xml file for the image. Then at a later
point we run the scraper and try to download the missing images again. 

% quick analysis tool
\subsubsection{Quick Analysis Tool}
% Prints category statistics per user or over the whole dataset
% Option to print sub categories
% Example print
To retrieve statistics about the dataset we made a quick analysis tool. It reads in
all image xml files using the xml.minidom Python module  and counts the categories. 
It has an option to this per user or for the whole dataset. It also has an option
to only print the top category statistics or also print per sub category.

An analysis including the sub categories looks like this:

(Insert example here)

\subsection{Feature extraction}
[Bart P, Davide (Sander)]
% which features
% how they work
% how they operate in the system
Something about the feature extraction loop and the usage of XML files?
\subsection{Classifier}
[Quang]
% which classifiers
% how they work
% how they operate in the system
\subsection{Visualizer}
[Nick]
% 3 views
